<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sure Odds Uganda</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#0b0f1a;color:white;}
header{background:#111827;padding:18px;font-size:24px;font-weight:bold;text-align:center;position:relative;}
.menu{position:absolute;left:15px;top:15px;font-size:22px;cursor:pointer;}
.dropdown{display:none;position:absolute;left:10px;top:50px;background:#020617;padding:10px;border-radius:10px;z-index:10;}
.dropdown button{background:none;color:white;border:none;font-size:16px;cursor:pointer;}
nav{display:flex;justify-content:center;gap:20px;background:#020617;padding:12px;}
nav a{color:#38bdf8;text-decoration:none;font-weight:bold;cursor:pointer;}
.container{max-width:900px;margin:auto;padding:20px;}
.section{margin-bottom:25px;padding:20px;border-radius:12px;box-shadow:0 0 10px #000;}
.free{background:#020617;}
.vip{background:linear-gradient(135deg,gold,orange);color:black;}
button{padding:12px 18px;border:none;border-radius:8px;background:#22c55e;color:white;font-size:16px;cursor:pointer;margin-top:10px;transition:0.3s;}
button:hover{background:#16a34a;transform:scale(1.05);}
input,textarea,select{padding:10px;border-radius:6px;border:none;margin-top:10px;width:95%;}
.page{display:none;}.active{display:block;}
.whatsapp{position:fixed;bottom:20px;right:20px;background:#25D366;padding:15px;border-radius:50%;font-size:20px;text-decoration:none;color:white;}
p.notice{color:yellow;font-weight:bold;}
.date{position:absolute;top:15px;right:20px;font-size:14px;color:#d1d5db;}
</style>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</head>
<body>

<header>
<div class="menu" onclick="toggleMenu()">‚ãÆ</div>
Sure Odds Uganda
<div class="date" id="todayDate"></div>
<div class="dropdown" id="menuBox">
  <button onclick="showPage('admin')">Admin</button>
</div>
</header>

<nav>
  <a onclick="showPage('home')">Home</a>
  <a onclick="showPage('free')">Free Tips</a>
  <a onclick="showPage('vip')">VIP</a>
  <a onclick="showPage('login')">VIP Login</a>
</nav>

<div class="container">

<!-- HOME -->
<div id="home" class="page active">
  <div class="section free">
    <h2>üî• Free Odds</h2>
    <ul id="freeList"></ul>
    <button onclick="openBet('free')">Get Free Tips on BetPawa</button>
  </div>
  <div class="section vip">
    <h2>üëë VIP Odds 10</h2>
    <p>Daily: 5,000 UGX | Weekly: 20,000 UGX</p>
    <p><b>Send MTN Mobile Money to:</b><br>256787645807</p>
    <p class="notice">‚ö†Ô∏è After sending the money, please send a screenshot on WhatsApp to get your VIP login details.</p>
  </div>
</div>

<!-- FREE PAGE -->
<div id="free" class="page">
  <div class="section free">
    <h2>üìÖ Today Free Tips</h2>
    <ul id="freeList2"></ul>
    <button onclick="openBet('free')">Get Free Tips on BetPawa</button>
  </div>
</div>

<!-- VIP PAGE -->
<div id="vip" class="page">
  <div id="vipLocked" class="section vip">
    <h2>üîí VIP Only</h2>
    <p>Login after payment. Expiry automatically counts down.</p>
    <p class="notice">‚ö†Ô∏è After sending the money, please send a screenshot on WhatsApp to get your VIP login details.</p>
    <button onclick="showPage('login')">VIP Login</button>
  </div>
  <div id="vipContent" class="section free" style="display:none;">
    <h2>üëë VIP Odds</h2>
    <ul id="vipList"></ul>
    <button onclick="openBet('vip')">VIP BetPawa Link</button>
    <p id="vipTimer"></p>
  </div>
</div>

<!-- VIP LOGIN -->
<div id="login" class="page">
  <div class="section free">
    <h2>VIP Login</h2>
    <input id="vipUser" placeholder="Username">
    <input id="vipPass" type="password" placeholder="Password">
    <select id="vipType">
      <option value="daily">Daily VIP (24h)</option>
      <option value="weekly">Weekly VIP (7d)</option>
    </select>
    <button onclick="vipLogin()">Login</button>
  </div>
</div>

<!-- ADMIN PANEL -->
<div id="admin" class="page">
  <div class="section free">
    <h2>Admin Panel</h2>
    <input id="adminPass" type="password" placeholder="Admin password">
    <button onclick="unlockAdmin()">Enter</button>
    <div id="adminArea" style="display:none;">
      <h3>Create VIP User</h3>
      <input id="newUser" placeholder="Username">
      <input id="newPass" placeholder="Password">
      <select id="vipExpiry">
        <option value="daily">Daily (24h)</option>
        <option value="weekly">Weekly (7d)</option>
      </select>
      <button onclick="createVIP()">Create VIP</button>

      <h3>Edit Free Tips</h3>
      <textarea id="adminFree"></textarea>

      <h3>Edit VIP Tips</h3>
      <textarea id="adminVIP"></textarea>

      <h3>BetPawa Links</h3>
      <input id="freeBetLink" placeholder="Free BetPawa link">
      <input id="vipBetLink" placeholder="VIP BetPawa link">

      <button onclick="saveAll()">Save All</button>
    </div>
  </div>
</div>

</div>

<a class="whatsapp" href="https://wa.me/256787645807">üí¨</a>

<script>
// Firebase config
const firebaseConfig = {
  databaseURL: "https://sure-odds-uganda-default-rtdb.asia-southeast1.firebasedatabase.app/"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// Date
document.getElementById('todayDate').innerText = new Date().toDateString();

// Show page
function showPage(id){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

// Toggle menu
function toggleMenu(){
  const menuBox=document.getElementById('menuBox');
  menuBox.style.display = menuBox.style.display==="block"?"none":"block";
}

// Open BetPawa
function openBet(type){
  if(type==="vip") db.ref('links/vip').once('value',snap=>window.open(snap.val()||"#","_blank"));
  else db.ref('links/free').once('value',snap=>window.open(snap.val()||"#","_blank"));
}

// Load tips in real-time
db.ref('tips/free').on('value',snap=>{
  let data = snap.val()||["No Free Tips"];
  freeList.innerHTML = data.map(x=>`<li>${x}</li>`).join("");
  freeList2.innerHTML = data.map(x=>`<li>${x}</li>`).join("");
});

db.ref('tips/vip').on('value',snap=>{
  let data = snap.val()||["No VIP Tips"];
  vipList.innerHTML = data.map(x=>`<li>${x}</li>`).join("");
});

// VIP login
let vipTimerInterval;
function vipLogin(){
  let u = vipUser.value;
  let p = vipPass.value;
  db.ref("vip/"+u).once("value").then(snap=>{
    if(!snap.exists()) return alert("VIP not found");
    const data = snap.val();
    if(data.pass!==p) return alert("Wrong password");
    if(Date.now()>data.expiry) return alert("VIP expired");

    vipLocked.style.display="none";
    vipContent.style.display="block";

    // Countdown
    clearInterval(vipTimerInterval);
    vipTimerInterval=setInterval(()=>{
      let t = data.expiry-Date.now();
      if(t<=0){ location.reload(); return; }
      vipTimer.innerText="VIP expires in "+Math.floor(t/60000)+" min";
    },1000);
  });
}

// Admin
function unlockAdmin(){
  if(adminPass.value==="1234"){
    adminArea.style.display="block";

    // Load current tips and links
    db.ref('tips/free').once('value').then(snap=>adminFree.value=(snap.val()||[]).join("\n"));
    db.ref('tips/vip').once('value').then(snap=>adminVIP.value=(snap.val()||[]).join("\n"));
    db.ref('links/free').once('value').then(snap=>freeBetLink.value=snap.val()||"");
    db.ref('links/vip').once('value').then(snap=>vipBetLink.value=snap.val()||"");
  }else alert("Wrong password");
}

// Create VIP
function createVIP(){
  let expiry = vipExpiry.value==="weekly"?Date.now()+7*24*60*60*1000:Date.now()+24*60*60*1000;
  db.ref("vip/"+newUser.value).set({pass:newPass.value,expire:expiry});
  alert("VIP Created");
}

// Save all admin data
function saveAll(){
  let freeTipsArr = adminFree.value.split("\n");
  let vipTipsArr = adminVIP.value.split("\n");
  db.ref('tips/free').set(freeTipsArr);
  db.ref('tips/vip').set(vipTipsArr);
  db.ref('links/free').set(freeBetLink.value);
  db.ref('links/vip').set(vipBetLink.value);
  alert("Saved to Firebase! All visitors will see updates instantly.");
}
</script>

</body>
</html>
